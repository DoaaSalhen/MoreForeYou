@model MoreForYou.Services.Models.API.BenefitAPIModel

@{
    ViewData["Title"] = "BenefitDetails";
    Layout = "~/Views/Shared/_More4ULayout2.cshtml";
    string key = "";
}
<style>
    .accordion .card {
        margin-bottom: 7px;
    }

    .accordion .card-header {
        cursor: pointer;
        background: #fff;
        border: 1px solid #EEEEEE;
    }

    .accordion .card-body {
        box-shadow: 0px;
    }

    #accordion-one .fa {
        float: right;
    }

    #accordion-one [data-toggle="collapse"] .fa:before {
        content: "\f068";
    }

    #accordion-one [data-toggle="collapse"].collapsed .fa:before {
        content: "\f067";
    }

    #accordion-two .fa {
        float: right;
    }

    #accordion-two [data-toggle="collapse"] .fa:before {
        content: "\f068";
    }

    #accordion-two [data-toggle="collapse"].collapsed .fa:before {
        content: "\f067";
    }

    table, th, td, tr{
        border: hidden;
        margin-bottom:20px;
        text-align:left;
    }
        
</style>

<section class="page-title">
    <!-- Container Start -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-6 text-center" style="margin:auto">
                <!-- Title text -->
                <h3>@Model.Name</h3>
            </div>
        </div>
    </div>
    <!-- Container End -->
</section>
<!--==================================
=            Blog Section            =
===================================-->

<section class="blog section">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card">

                    <div class="card-body" style="box-shadow: 8px 8px 8px 8px rgba(0, 0, 0, .2)">
                        @*<h4 class="card-title">Benefits</h4>*@
                        <div class="active-member">
                            @*<div class="col-md-10 offset-md-1 col-lg-9 offset-lg-0">*@
                            <!-- Article 01 -->
                            <article>
                                <!-- Post Image -->
                                <div class="image">
                                    <img src="~/images/BenefitCards/@Model.BenefitCard" alt="article-01" class="zoom">
                                </div>
                                <!-- Post Title -->
                                @*<h3>@Model.Name</h3>*@
                                <div style="text-align:center">
                                    <p class="">@Model.Description</p>
                                </div>
                                <div class="default-tab">
                                    <ul class="nav nav-tabs mb-3" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" data-toggle="tab" href="#Conditions">Conditions</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-toggle="tab" href="#WorkFlow">WorkFlow</a>
                                        </li>

                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane fade show active" id="Conditions" role="tabpanel">
                                            <div @*id="accordion-one"*@ @*class="accordion"*@>
                                                <div class="card">
                                                    <!--<div class="card-header">-->
                                                    @*<h5 class="mb-0" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">*@
                                                    <!--<i class="fa" aria-hidden="true"></i> Conditions-->
                                                    @*</h5>*@
                                                    <!--</div>-->
                                                    <div id="collapseOne">
                                                        <div class="card-body">
                                                            <table style="width:100%;">

                                                                @foreach (var condition in Model.BenefitConditions)
                                                                {
                                                                    key = condition.Key;
                                                                <tr>
                                                                    @if (condition.Key == "Type")
                                                                    {
                                                                        <td>@condition.Value<i class="fa fa-user" style="margin-left: 5px; margin-right: 5px; float: left"></i></td>
                                                                    }
                                                                    else if (condition.Key == "WorkDuration")
                                                                    {
                                                                        <td>@condition.Value<i class="fa fa-clock" style="margin-left: 5px; margin-right: 5px; float: left"></i></td>
                                                                    }
                                                                    else if (condition.Key == "DateToMatch")
                                                                    {
                                                                        <td>@condition.Value<i class="fa fa-chart-column" style="margin-left: 5px; margin-right: 5px; float: left"></i></td>
                                                                    }
                                                                    else if (condition.Key == "Age")
                                                                    {
                                                                        <td><i class="fa fa-chart-column" style="margin-left: 5px; margin-right: 5px; float: left"></i>@condition.Value</td>
                                                                    }
                                                                    else if (condition.Key == "Gender")
                                                                    {
                                                                        <td><i class="fa fa-user" style="margin-left: 5px; margin-right: 5px; float: left"></i>@condition.Value</td>
                                                                    }
                                                                    else if (condition.Key == "MaritalStatus")
                                                                    {
                                                                        <td><i class="fa-solid fa-rings-wedding" style="margin-left: 5px; margin-right: 5px; float: left"></i> @condition.Value</td>
                                                                    }
                                                                    else if (condition.Key == "PayrollArea")
                                                                    {
                                                                        <td><i class="fa-solid fa-user-tie" style="margin-left: 5px; margin-right: 5px; float: left"></i> @condition.Value</td>
                                                                    }
                                                                    else if (condition.Key == "RequiredDocuments")
                                                                    {
                                                                        <td><i class="fa-solid fa-certificate" style="margin-left: 5px; margin-right: 5px; float: left"></i> @condition.Value</td>
                                                                    }

                                                                    <td>
                                                                        @if (key != "RequiredDocuments")
                                                                        {
                                                                            @if (Model.BenefitApplicable[key] == true)
                                                                            {
                                                                                <i class="fa fa-check text-success me-3" style="float: right; margin-right: 20px;"></i>
                                                                            }
                                                                            else
                                                                            {
                                                                                <i class="fa-solid fa-xmark text-danger me-3" style="float: right; margin-right: 20px;"></i>

                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <i class="fa-solid fa-spinner text-warning me-3" style="float: right; margin-right: 20px; "></i>
                                                                        }
                                                                    </td>
                                                                </tr>
                                                                }
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="WorkFlow" role="tabpanel">
                                            <div @*id="accordion-two" class="accordion"*@>
                                                <div class="card">
                                                    <!--<div class="card-header">-->
                                                    @*<h5 class="mb-0" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">*@
                                                    <!--<i class="fa" aria-hidden="true"></i> Workflow
                                                        </h5>
                                                    </div>-->
                                                    <div id="collapseTwo" class="collapse show" data-parent="#accordion-two">
                                                        <div class="card-body">


                                                            @if (Model.BenefitWorkflows.Count != 0)
                                                            {
                                                                <ul>
                                                                    @*<div> This benefit must be approved from =></div>*@
                                                                    <div class="timeline-area">
                                                                        @for (int index2 = 1; index2 <= Model.BenefitWorkflows.Count; index2++)
                                                                        {
                                                                            @*<li><span>@index2  :- </span> <span>@Model.BenefitWorkflows[index2 - 1]</span></li>*@
                                                                            <div class="timeline-task">
                                                                                <div class="icon bg1">
                                                                                    <i>@index2</i>
                                                                                </div>
                                                                                <div class="tm-title">
                                                                                    <h4>@Model.BenefitWorkflows[index2 - 1]</h4>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>

                                                                </ul>
                                                            }
                                                            else
                                                            {
                                                                <div> No APProval Needeed</div>
                                                            }


                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="text-align:center; margin-top:20px">
                                    <!-- Read more button -->
                                    @if (Model.EmployeeCanRedeem == true)
                                    {

                                        <a class="btn" value="@Model.Id" asp-action="Redeem" asp-route-id="@Model.Id">Redeem</a>
                                    }
                                    else
                                    {
                                        <a class="btn  disabled" value="@Model.Id" asp-action="Redeem" asp-route-id="@Model.Id">Redeem</a>

                                    }
                                </div>
                            </article>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>